---
/**
 * Navigation Component - Aaltjesdagen
 * FIX: Vanilla JS implementatie met Astro View Transitions support
 */
import { NAVIGATION_ITEMS } from "@/constants/site";
import { Link, ThemeToggle } from "@aaltjesdagen/ui/components";

const currentPath = Astro.url.pathname;
---

<nav class="hidden md:flex flex-wrap items-center gap-6" aria-label="Main navigation">
  {NAVIGATION_ITEMS.map((item) => (
    <Link href={item.href} variant="nav">
      {item.name}
    </Link>
  ))}
  <ThemeToggle />
</nav>

<div class="md:hidden flex items-center gap-4">
  <ThemeToggle />

  <button
    id="mobile-menu-toggle"
    type="button"
    class="relative z-[100] w-12 h-12 flex items-center justify-center rounded-xl bg-elevated border border-primary/10 shadow-sm hover:shadow-md transition-all active:scale-95"
    aria-label="Toggle menu"
    aria-expanded="false"
  >
    <div class="relative w-6 h-5 flex flex-col justify-between overflow-hidden pointer-events-none">
      <span class="hamburger-line w-full h-0.5 bg-text-primary rounded-full transition-all duration-300 origin-left"></span>
      <span class="hamburger-line w-full h-0.5 bg-text-primary rounded-full transition-all duration-300"></span>
      <span class="hamburger-line w-full h-0.5 bg-text-primary rounded-full transition-all duration-300 origin-left"></span>
    </div>
  </button>
</div>

<style>
  /* Hamburger Animation to X - gestuurd door class op de button */
  button.is-active .hamburger-line:nth-child(1) {
    transform: rotate(45deg);
  }
  button.is-active .hamburger-line:nth-child(2) {
    opacity: 0;
    transform: translateX(-20px);
  }
  button.is-active .hamburger-line:nth-child(3) {
    transform: rotate(-45deg);
  }
  
  .bg-elevated { background-color: var(--bg-elevated, #fff); }
  .bg-text-primary { background-color: var(--text-primary, #000); }
</style>